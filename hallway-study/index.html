<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hallway Study - Three.js</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Import map for Three.js r180 -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.180.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.180.0/examples/jsm/"
      }
    }
  </script>
</head>
<body>
  <div id="app"></div>

  <!-- View Mode Toolbar (top-left) -->
  <div class="view-toolbar">
    <button id="camera-mode" class="view-btn active" title="Toggle Perspective/Orthographic">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M1 7l11-5 11 5M1 7l11 5M1 7v10l11 5M23 7l-11 5M23 7v10l-11 5M12 12v10"/>
      </svg>
      <span class="view-label" id="view-label">PERSP</span>
    </button>
  </div>

  <!-- Transform Mode Toolbar -->
  <div class="transform-toolbar" style="display: none;">
    <button id="translate-mode" class="transform-btn active" title="Translate (W)">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 5v14M5 12h14"/>
        <path d="M12 5l-3 3M12 5l3 3M19 12l-3 3M19 12l-3-3M12 19l-3-3M12 19l3-3M5 12l3 3M5 12l3-3"/>
      </svg>
      <span class="key-hint">W</span>
    </button>
    <button id="rotate-mode" class="transform-btn" title="Rotate (E)">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/>
        <path d="M21 3v5h-5"/>
      </svg>
      <span class="key-hint">E</span>
    </button>
  </div>

  <!-- Camera Preview Panel (old single preview - keeping for now) -->
  <div id="camera-preview" class="preview-panel" style="display: none;">
    <div class="preview-header">Camera Preview</div>
    <canvas id="preview-canvas"></canvas>
  </div>

  <!-- Multi-Camera Preview Panel (bottom collapsible) -->
  <div id="multi-preview-panel" class="multi-preview-panel">
    <div class="multi-preview-header">
      <button id="toggle-previews" class="toggle-btn">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 6l4 4 4-4"/>
        </svg>
        <span id="preview-count">Camera Previews (0)</span>
      </button>
    </div>
    <div id="multi-preview-content" class="multi-preview-content">
      <div id="preview-list" class="preview-list">
        <!-- Camera previews will be added here dynamically -->
      </div>
    </div>
  </div>

  <!-- Toast Notifications Container -->
  <div id="toast-container" class="toast-container"></div>

  <script type="module" src="app.js"></script>
</body>
</html>
